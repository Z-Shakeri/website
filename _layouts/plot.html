---
layout: default
---

<div class="page plot-page">
    <h2 class="site-subtitle">{{ site.description }}</h2>

    <p class="paper-info">
        The visualizations and data on this page...
    </p>

    <div class="plot-container">
        <p class="title">{{ page.title }}</p>
        <p class="subtitle">{{ page.subtitle }}</p>

        <div class="inner">
            <div class="top-actions">
                <a href="https://github.com/hms-dbmi/c19i2b2-notebooks/blob/master/notebooks/{{ page.notebook }}" target="_blank">View Jupyter Notebook</a>
                <button id="expand-width">Expand</button>
            </div>

            <div class="vega-plot-container">
                {% for plot in page.plots %}
                    <div id="{{ plot }}" class="vega-plot"></div>
                {%  endfor %}
            </div>

            <div class="description">
                {{ content }}
            </div>
        </div>
    </div>

    <!--<h3>Source Code</h3>
    <p>
        Lorem ipsum dolor sit amet, consectetur adipiscing elit. 
        Integer venenatis justo ac odio commodo, vel consequat lectus ornare. 
        Sed a feugiat sem. Nulla tristique efficitur ante sit amet tristique. 
        Quisque vitae dui quis mauris venenatis posuere at id nisl. 
        Mauris aliquet felis in efficitur lacinia.
    </p>-->

</div>

<!-- Vega-Lite -->
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega@5"></script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega-lite@4"></script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
<!-- The plots -->
<script type="text/javascript">

    {% for plot in page.plots %}
        vegaEmbed(
            "#{{ plot }}", 
            "/assets/plots/{{ plot }}.json",
            {
                renderer: "canvas",
                downloadFileName: "4CE-COVID-19_{{ plot }}",
                actions: {
                    export: true,
                    editor: false,
                    compiled: false,
                    source: false,
                }
            }
        );
    {% endfor %}

</script>
<!-- Extra stuff -->
<script type="text/javascript">
    const expandButton = document.querySelector('#expand-width');
    expandButton.addEventListener('click', () => {
        const wrapper = document.querySelector('.page-content .wrapper');

        if(wrapper) {
            wrapper.classList.toggle("wrapper-wide");

            if(wrapper.classList.contains("wrapper-wide")) {
                expandButton.innerHTML = "Minimize";
            } else {
                expandButton.innerHTML = "Expand";
            }
        }
    });
</script>